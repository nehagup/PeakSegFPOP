TODOs

feature computation command line program

update README

test cases for problems encountered on guillimin

- labels/H3K4me3_TDH_other/McGill0016/problems/chr2:110251337-149690582/ overlapping regions -- problem in our benchmark.

==> labels/H3K4me3_TDH_other/McGill0012/problems/chr5:10000-17530657/coverage.bedGraph.err <==
 Error in fread(penalty_loss.tsv) :
   File is empty: /gs/project/mugqic/projects/thocking/projects/PeakSegFPOP-labels/H3K4me3_TDH_other/McGill0012/problems/chr5:10000-17530657/coverage.bedGraph_penalty=0_loss.tsv
 Calls: getError -> fread
 Execution halted

input data error checking.

FIXED

- min-less errors
 29: labels/H3K36me3_AM_immune/McGill0102/problems/chr11:96437584-134946516/coverage.bedGraph.out:BAD MIN LESS CHECK data_i=140364 status=1
 51:   labels/H3K36me3_AM_immune/McGill0008/problems/chr13:19020000-86760324/coverage.bedGraph.out:BAD MIN LESS CHECK data_i=648069 status=1

- min more problem
/labels/H3K36me3_AM_immune/McGill0001/problems/chr16:46385801-88389383/

- labels/H3K4me3_TDH_other/McGill0267/problems/chr4:1478646-8799203
 Error in if (!big.found) { : missing value where TRUE/FALSE needed

- min-more errors
  2:        labels/H3K4me3_TDH_other/McGill0014/problems/chr5:10000-17530657/coverage.bedGraph.out:BAD MIN MORE CHECK data_i=8324 status=1
  3:   labels/H3K36me3_AM_immune/McGill0011/problems/chr16:46385801-88389383/coverage.bedGraph.out:BAD MIN MORE CHECK data_i=8575 status=1

- binary search errors. 
  labels/H3K4me3_TDH_other/McGill0267/problems/chr4:75452279-191044276/coverage.bedGraph.out
  also maybe this big one labels/H3K4me3_TDH_other/McGill0037/problems/chr4:75452279-191044276

2016.09.26

_loss.tsv file includes mean and max number of intervals stored by the
algorithm. This info is not useful for peak detection but it is useful
for understanding the functional pruning algorithm. For example
plotting the mean number of intervals versus execution time is roughly
linear, which explains why the algorithm takes longer for larger
penalty values.

Bugfix for min-less: only add a constant piece at the end if we need to.

2016.09.25

computeTarget.R -> compute_coverage_target.R which creates
coverage.bedGraph if it does not already exist, and then creates
target.bed if the problem has labels.

problemDB.R -> create_problems.R which now does no computation, but
instead just creates coverage.bedGraph.sh for each problem, which
calls compute_coverage_target.R.

2016.09.23

PeakSegFPOP exits quickly for the special case of penalty=Inf, which
means 0 peaks (1 segment mean with no changes).

New R scripts to help when running PeakSegFPOP on the whole genome.

gap2problems.R inputs chrom sizes and gap info, and outputs a bed file
for each separate segmentation problem.

problemDB.R inputs a segmentation problem bed file and a labels bed
file for one sample, and creates sub-directories for each labeled
segmentation problem.

computeTarget.R inputs a labeled segmentation problem directory, and
runs PeakSegFPOP several times, until the target interval is found.

2016.09.22

output loss file.

2016.08.09

output segments file.

2016.08.08

First Berkeley DB on-disk solver code working.